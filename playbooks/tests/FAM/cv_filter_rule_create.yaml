---
- hosts: localhost
  gather_facts: false

  module_defaults:
    group/theforeman.foreman.foreman:
      server_url: "{{ foreman_server_url | default(omit) }}"
      username: "{{ foreman_username | default(omit) }}"
      password: "{{ foreman_password | default(omit) }}"
      validate_certs: "{{ foreman_validate_certs | default(omit) }}"
      organization: "{{ foreman_organization }}"

  tasks:
    - name: ContentViewFilterRuleCreate
      theforeman.foreman.content_view_filter_rule:
        name: "{{ cv_filter_rule }}"
        content_view: "{{ cv }}"
        content_view_filter: "{{ cv_filter }}"
        date_type: "{{ date_type | default('updated') }}"
        types: "{{ types | default(['bugfix', 'enhancement', 'security']) }}"
        start_date: "{{ start_date | default(omit) }}"
        end_date: "{{ end_date | default(omit) }}"
...
